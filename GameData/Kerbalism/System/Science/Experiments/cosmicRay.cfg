// ============================================================================
// Replacing stock experiments
// ============================================================================
@PART[*]:HAS[@MODULE[DMModuleScienceAnimateGeneric]:HAS[#experimentID[RP0cosmicRay1]]]:NEEDS[FeatureScience]:FOR[RP-1]
{
	!MODULE[DMModuleScienceAnimateGeneric]:HAS[#experimentID[RP0cosmicRay1]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = RP0cosmicRay1
	}
}

// ============================================================================
// Reconfigure experiments(avoiding a global nuke to keep people happy)
// strongly recommendeded to not change anything in this section
// Separate from above due to Configure Groups.
// ============================================================================
@PART[*]:HAS[@MODULE[Experiment]]:NEEDS[FeatureScience]:AFTER[RP-1]
{
	@MODULE[Experiment]:HAS[#experiment_id[RP0cosmicRay1]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay1/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay1/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay1/duration$
		requires = OrbitMinEccentricity:0.2
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[RP0cosmicRay1]]:NEEDS[FeatureScience]:AFTER[RP-1]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay1/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay1/size$
	@dataScale /= #$baseValue$
}

// ============================================================================
// Cosmic ray 2, Scintillation counter
// ============================================================================
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[RP0cosmicRay2]]]:NEEDS[FeatureScience]:FOR[RP-1]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[RP0cosmicRay2]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = RP0cosmicRay2
	}
}

@PART[*]:HAS[@MODULE[Experiment]]:NEEDS[FeatureScience]:AFTER[RP-1]
{
	@MODULE[Experiment]:HAS[#experiment_id[RP0cosmicRay2]]
	{
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay2/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay2/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay2/duration$
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[RP0cosmicRay2]]:NEEDS[FeatureScience]:AFTER[RP-1]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay2/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/RP0cosmicRay2/size$
	@dataScale /= #$baseValue$
}

// ============================================================================
// Add experiment to parts
// ============================================================================
@PART[RP0probeVanguardXray|sputnik2|pioneer_0_1_2|bluedog_Pioneer1|pioneer_3_4|bluedog_Pioneer4|sputnik3|explorer_6|bluedog_explorer7probe|luna2|vanguard-3|pioneer_5|rn_mariner1_2|bluedog_Explorer1|FASAExplorerProbe|luna_als]:NEEDS[FeatureScience]:BEFORE[RP-1]
{
	MODULE
    {
        name = ModuleScienceExperiment
        experimentID = RP0cosmicRay1
        experimentActionName = Log Radiation
        resetActionName = Discard Data
        reviewActionName = Review Stored Data
        useStaging = False
        useActionGroups = True
        hideUIwhenUnavailable = True
        rerunnable = True
        xmitDataScalar = 1
        usageReqMaskInternal = 1
        usageReqMaskExternal = 4
		dataIsCollectable = true
    }
}
@PART[RO-ScintillationCounter|pioneer_6_7_8_9|quetzal|pioneer_10_11|rn_voyager|torekka|galileo_aprobe|galileo_mb|luna11_als|neo_dawn|rn_lro|rn_juno_spacecraft]:NEEDS[FeatureScience]:BEFORE[RP-1]
{
	MODULE
    {
        name = ModuleScienceExperiment
        experimentID = RP0cosmicRay2
        experimentActionName = Log Radiation
        resetActionName = Discard Data
        reviewActionName = Review Stored Data
        useStaging = False
        useActionGroups = True
        hideUIwhenUnavailable = True
        rerunnable = True
        xmitDataScalar = 1
        usageReqMaskInternal = 1
        usageReqMaskExternal = 4
		dataIsCollectable = true
    }
}
